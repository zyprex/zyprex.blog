<!doctype html><html><meta charset=utf-8><meta name=generator content="Hugo 0.81.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><link rel=icon type=image/png href=/img/git_face.png><link rel=stylesheet type=text/css href=/css/main.css><link rel=stylesheet type=text/css href=/css/syntax.css><title>Prove Kaprekar Constant With C Program@Zyprex's Blog</title><body><div class=fence><nav><a href=/zyprex.blog/>HOME&nbsp;</a><a href=/zyprex.blog/tags/>TAGS&nbsp;</a><a href=/zyprex.blog/categories/>CATEGORIES&nbsp;</a><a href=/zyprex.blog/index.xml>RSS&nbsp;</a><a href=/zyprex.blog/search/>SEARCH&nbsp;</a></nav><div class=Hp><em class=T>Prove Kaprekar Constant With C Program</em><br><em>2022/05/16 Mon 14:39</em></div><nav class=toc><b onclick="nav_toc.hidden=!nav_toc.hidden,this.innerText=this.innerText=='+ catalogue'?'- catalogue':'+ catalogue'">+ catalogue</b><div id=nav_toc hidden><nav id=TableOfContents><ul><li><a href=#prove-kaprekar-constant-with-c-program>Prove Kaprekar Constant with C Program</a><ul><li><a href=#know-the-kaprekar-constant>Know the kaprekar constant</a></li><li><a href=#draw-sketch>Draw Sketch</a></li><li><a href=#jump-into-detail>Jump into Detail</a></li><li><a href=#small-tips-for-debug-print>Small Tips for Debug Print</a></li><li><a href=#handle-other-case>Handle Other Case</a></li><li><a href=#complete-program>Complete Program</a></li></ul></li><li><a href=#test-with-a-bash-script>Test with a Bash Script</a></li><li><a href=#ref>Ref.</a></li></ul></nav></div></nav><div id=C><h1 id=prove-kaprekar-constant-with-c-program>Prove Kaprekar Constant with C Program<sup><a class=h__anchor href=#prove-kaprekar-constant-with-c-program>¶</a></sup></h1><h2 id=know-the-kaprekar-constant>Know the kaprekar constant<sup><a class=h__anchor href=#know-the-kaprekar-constant>¶</a></sup></h2><p>What is a kaprekar constant ?</p><ol><li>Given by a 4 digit integer number, for example 1000.</li><li>Form the largest and the smallest number from it&rsquo;s digits.</li><li>Substract these two numbers and get the new integer.</li><li>Continue with the process, until stop by number 6174.</li></ol><p>The 6174 is kaprekar constant. Because use 6174 to calculate will get 6174.</p><p>A manual calculate example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-text data-lang=text>1000 - 0001 = 0999
9990 - 0999 = 8991
9981 - 1899 = 8082
8820 - 0288 = 8532
8532 - 2358 = 6174
7641 - 1467 = 6174
</code></pre></td></tr></table></div></div><p>All 4 digit integer numbers have the same pitfall loop end.</p><p>Let&rsquo;s use c program to prove it.</p><h2 id=draw-sketch>Draw Sketch<sup><a class=h__anchor href=#draw-sketch>¶</a></sup></h2><ol><li>Decide how to pass parameter</li></ol><p>Pass integer is intuitive, but in this case I use string , because reform digit
generated a char array, and with string parameter, test in terminal with bash
script more convient.</p><ol start=2><li>Overview of plan</li></ol><ul><li>convert strings to a char array.</li><li>sort char array descend.</li><li>calculate loop until 6174.</li></ul><h2 id=jump-into-detail>Jump into Detail<sup><a class=h__anchor href=#jump-into-detail>¶</a></sup></h2><ol><li>convert strings to a char array.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>num_len</span> <span class=o>=</span> <span class=n>strlen</span><span class=p>(</span><span class=n>num</span><span class=p>);</span>
<span class=kt>char</span> <span class=o>*</span><span class=n>arr</span> <span class=o>=</span> <span class=p>(</span><span class=kt>char</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=n>num_len</span> <span class=o>*</span> <span class=k>sizeof</span><span class=p>(</span><span class=kt>char</span><span class=p>));</span>
<span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>num_len</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
  <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>num</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><ol start=2><li>sort char array descend</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=kt>void</span> <span class=nf>sort_char_array_descend</span><span class=p>(</span><span class=kt>char</span> <span class=n>arr</span><span class=p>[],</span> <span class=kt>int</span> <span class=n>len</span><span class=p>)</span> <span class=p>{</span>
  <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>idx</span><span class=p>;</span>
  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>idx</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
    <span class=k>for</span> <span class=p>(</span><span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>len</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
        <span class=n>idx</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
      <span class=p>}</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>idx</span> <span class=o>!=</span> <span class=n>i</span><span class=p>)</span> <span class=p>{</span>
      <span class=kt>char</span> <span class=n>temp</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
      <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>idx</span><span class=p>];</span>
      <span class=n>arr</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><ol start=3><li>calculate loop to end</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=kt>void</span> <span class=nf>calc_kaprekar_constant</span><span class=p>(</span><span class=kt>char</span> <span class=n>num</span><span class=p>[])</span> <span class=p>{</span>
  <span class=kt>int</span> <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>idx</span><span class=p>;</span>
  <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>num_len</span> <span class=o>=</span> <span class=n>strlen</span><span class=p>(</span><span class=n>num</span><span class=p>);</span>
  <span class=kt>char</span> <span class=o>*</span><span class=n>arr</span> <span class=o>=</span> <span class=p>(</span><span class=kt>char</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=n>num_len</span> <span class=o>*</span> <span class=k>sizeof</span><span class=p>(</span><span class=kt>char</span><span class=p>));</span>
  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>num_len</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>num</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=kt>int</span> <span class=n>times</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span><span class=p>;</span>
  <span class=kt>int</span> <span class=n>origin_num</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>next_num</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=k>for</span> <span class=p>(</span><span class=n>n1</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>times</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=n>num_len</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>times</span> <span class=o>*=</span> <span class=mi>10</span><span class=p>,</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>origin_num</span> <span class=o>+=</span> <span class=p>(</span><span class=n>times</span> <span class=o>*</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
  <span class=p>}</span>
  <span class=kt>int</span> <span class=n>step_count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=k>do</span> <span class=p>{</span>
    <span class=n>sort_char_array_descend</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span> <span class=n>num_len</span><span class=p>);</span>
    <span class=cm>/* max digital */</span>
    <span class=k>for</span> <span class=p>(</span><span class=n>n1</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>times</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=n>num_len</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>times</span> <span class=o>*=</span> <span class=mi>10</span><span class=p>,</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>n1</span> <span class=o>+=</span> <span class=p>(</span><span class=n>times</span> <span class=o>*</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
    <span class=p>}</span>
    <span class=cm>/* min digital */</span>
    <span class=k>for</span> <span class=p>(</span><span class=n>n2</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>times</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>num_len</span><span class=p>;</span> <span class=n>times</span> <span class=o>*=</span> <span class=mi>10</span><span class=p>,</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>n2</span> <span class=o>+=</span> <span class=p>(</span><span class=n>times</span> <span class=o>*</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
    <span class=p>}</span>
    <span class=n>next_num</span> <span class=o>=</span> <span class=n>n1</span> <span class=o>-</span> <span class=n>n2</span><span class=p>;</span>
    <span class=n>DEBUG</span><span class=err>$</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d-%d=%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span><span class=p>,</span> <span class=n>next_num</span><span class=p>);</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>next_num</span> <span class=o>==</span> <span class=n>origin_num</span> <span class=o>||</span> <span class=n>next_num</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>DEBUG</span><span class=err>$</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d (jump into black hole after step %d)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>next_num</span><span class=p>,</span> <span class=n>step_count</span><span class=p>);</span>
      <span class=n>ret</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
      <span class=k>break</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=n>origin_num</span> <span class=o>=</span> <span class=n>next_num</span><span class=p>;</span>
    <span class=n>step_count</span><span class=o>++</span><span class=p>;</span>
    <span class=n>int_to_char_arr</span><span class=p>(</span><span class=n>next_num</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>num_len</span><span class=p>);</span>
  <span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=mi>1</span><span class=p>);</span>
  <span class=n>free</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span>
  <span class=n>arr</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
  <span class=k>return</span> <span class=n>ret</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><h2 id=small-tips-for-debug-print>Small Tips for Debug Print<sup><a class=h__anchor href=#small-tips-for-debug-print>¶</a></sup></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=cp>#define DEBUG </span><span class=cm>/* comment this line to remove all debug code sentence */</span><span class=cp>
</span><span class=cp>#ifdef DEBUG
</span><span class=cp>#define DEBUG$
</span><span class=cp>#else
</span><span class=cp>#define DEBUG$ for (;0;)
</span><span class=cp>#endif
</span></code></pre></td></tr></table></div></div><h2 id=handle-other-case>Handle Other Case<sup><a class=h__anchor href=#handle-other-case>¶</a></sup></h2><p>Prove other than 4-digits integer may cause infinite loop, so use a link
list avoid those case. The link list save each steps result, when a calculate
done, check whether it is in previous&rsquo;s results list.</p><h2 id=complete-program>Complete Program<sup><a class=h__anchor href=#complete-program>¶</a></sup></h2><p>In this program, you can define different macro to run differnt test case.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;string.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;strings.h&gt;</span><span class=cp>
</span><span class=cp>#define DEBUG </span><span class=cm>/* comment this line to remove all debug code sentence */</span><span class=cp>
</span><span class=cp>#ifdef DEBUG
</span><span class=cp>#define DEBUG$
</span><span class=cp>#else
</span><span class=cp>#define DEBUG$ for (; 0;)
</span><span class=cp>#endif
</span><span class=cp></span>
<span class=k>struct</span> <span class=n>node</span> <span class=p>{</span>
  <span class=kt>int</span> <span class=n>data</span><span class=p>;</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>next</span><span class=p>;</span>
<span class=p>};</span>

<span class=kt>void</span> <span class=nf>init_node</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>**</span><span class=n>node</span><span class=p>,</span> <span class=kt>int</span> <span class=n>data</span><span class=p>)</span> <span class=p>{</span>
  <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span><span class=p>));</span>
  <span class=p>(</span><span class=o>*</span><span class=n>node</span><span class=p>)</span><span class=o>-&gt;</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=p>;</span>
  <span class=p>(</span><span class=o>*</span><span class=n>node</span><span class=p>)</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>void</span> <span class=nf>insert_node</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>node</span><span class=p>,</span> <span class=kt>int</span> <span class=n>data</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;insert failed</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
    <span class=k>return</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>new_node</span> <span class=o>=</span> <span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=k>sizeof</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span><span class=p>));</span>
  <span class=n>new_node</span><span class=o>-&gt;</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span><span class=p>;</span>
  <span class=n>new_node</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>node</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
  <span class=n>node</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>new_node</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>void</span> <span class=nf>print_node</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>node</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;print failed&#34;</span><span class=p>);</span>
    <span class=k>return</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>cur</span> <span class=o>=</span> <span class=n>node</span><span class=p>;</span>
  <span class=k>while</span> <span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d &#34;</span><span class=p>,</span> <span class=n>cur</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
    <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d &#34;</span><span class=p>,</span> <span class=n>cur</span><span class=o>-&gt;</span><span class=n>data</span><span class=p>);</span>
  <span class=n>printf</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>search_node</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>node</span><span class=p>,</span> <span class=kt>int</span> <span class=n>data</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>cur</span> <span class=o>=</span> <span class=n>node</span><span class=p>;</span>
  <span class=kt>int</span> <span class=n>pos</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=k>while</span> <span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>data</span> <span class=o>==</span> <span class=n>data</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>return</span> <span class=n>pos</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=n>cur</span> <span class=o>=</span> <span class=n>cur</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
    <span class=n>pos</span><span class=o>++</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=k>return</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>void</span> <span class=nf>clean_node</span><span class=p>(</span><span class=k>struct</span> <span class=n>node</span> <span class=o>**</span><span class=n>node</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=o>*</span><span class=n>node</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;del failed.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
    <span class=k>return</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>cur</span> <span class=o>=</span> <span class=o>*</span><span class=n>node</span><span class=p>;</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>temp</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
  <span class=k>while</span> <span class=p>(</span><span class=n>cur</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>cur</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
    <span class=n>free</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span>
    <span class=n>cur</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>void</span> <span class=nf>sort_char_array_descend</span><span class=p>(</span><span class=kt>char</span> <span class=n>arr</span><span class=p>[],</span> <span class=kt>int</span> <span class=n>len</span><span class=p>)</span> <span class=p>{</span>
  <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>idx</span><span class=p>;</span>
  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>idx</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
    <span class=k>for</span> <span class=p>(</span><span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>len</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
        <span class=n>idx</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
      <span class=p>}</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>idx</span> <span class=o>!=</span> <span class=n>i</span><span class=p>)</span> <span class=p>{</span>
      <span class=kt>char</span> <span class=n>temp</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
      <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>idx</span><span class=p>];</span>
      <span class=n>arr</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kt>void</span> <span class=nf>int_to_char_arr</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>char</span> <span class=n>num</span><span class=p>[],</span> <span class=kt>int</span> <span class=n>len</span><span class=p>)</span> <span class=p>{</span>
  <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=n>bzero</span><span class=p>(</span><span class=n>num</span><span class=p>,</span> <span class=n>len</span><span class=p>);</span>
  <span class=k>while</span> <span class=p>(</span><span class=n>n</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span><span class=p>)</span> <span class=p>{</span>
    <span class=kt>char</span> <span class=n>digit</span> <span class=o>=</span> <span class=n>n</span> <span class=o>%</span> <span class=mi>10</span><span class=p>;</span>
    <span class=n>num</span><span class=p>[</span><span class=n>len</span> <span class=o>-</span> <span class=p>(</span><span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>digit</span><span class=p>;</span>
    <span class=n>n</span> <span class=o>/=</span> <span class=mi>10</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>calc_kaprekar_constant</span><span class=p>(</span><span class=kt>char</span> <span class=n>num</span><span class=p>[])</span> <span class=p>{</span>
  <span class=kt>int</span> <span class=n>ret</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>,</span> <span class=n>idx</span><span class=p>;</span>
  <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>num_len</span> <span class=o>=</span> <span class=n>strlen</span><span class=p>(</span><span class=n>num</span><span class=p>);</span>
  <span class=kt>char</span> <span class=o>*</span><span class=n>arr</span> <span class=o>=</span> <span class=p>(</span><span class=kt>char</span> <span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=n>num_len</span> <span class=o>*</span> <span class=k>sizeof</span><span class=p>(</span><span class=kt>char</span><span class=p>));</span>
  <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>num_len</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>num</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=kt>int</span> <span class=n>times</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span><span class=p>;</span>
  <span class=kt>int</span> <span class=n>origin_num</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>next_num</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=k>for</span> <span class=p>(</span><span class=n>n1</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>times</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=n>num_len</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>times</span> <span class=o>*=</span> <span class=mi>10</span><span class=p>,</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>origin_num</span> <span class=o>+=</span> <span class=p>(</span><span class=n>times</span> <span class=o>*</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
  <span class=p>}</span>
  <span class=kt>int</span> <span class=n>step_count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
  <span class=n>init_node</span><span class=p>(</span><span class=o>&amp;</span><span class=n>node</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
  <span class=k>do</span> <span class=p>{</span>
    <span class=n>sort_char_array_descend</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span> <span class=n>num_len</span><span class=p>);</span>
    <span class=cm>/* max digital */</span>
    <span class=k>for</span> <span class=p>(</span><span class=n>n1</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>times</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=n>num_len</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>times</span> <span class=o>*=</span> <span class=mi>10</span><span class=p>,</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>n1</span> <span class=o>+=</span> <span class=p>(</span><span class=n>times</span> <span class=o>*</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
    <span class=p>}</span>
    <span class=cm>/* min digital */</span>
    <span class=k>for</span> <span class=p>(</span><span class=n>n2</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>times</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>num_len</span><span class=p>;</span> <span class=n>times</span> <span class=o>*=</span> <span class=mi>10</span><span class=p>,</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>n2</span> <span class=o>+=</span> <span class=p>(</span><span class=n>times</span> <span class=o>*</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
    <span class=p>}</span>
    <span class=n>next_num</span> <span class=o>=</span> <span class=n>n1</span> <span class=o>-</span> <span class=n>n2</span><span class=p>;</span>
    <span class=n>DEBUG</span><span class=err>$</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d-%d=%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span><span class=p>,</span> <span class=n>next_num</span><span class=p>);</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>next_num</span> <span class=o>==</span> <span class=n>origin_num</span> <span class=o>||</span> <span class=n>next_num</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>DEBUG</span><span class=err>$</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d (jump into black hole after step %d)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>next_num</span><span class=p>,</span> <span class=n>step_count</span><span class=p>);</span>
      <span class=n>clean_node</span><span class=p>(</span><span class=o>&amp;</span><span class=n>node</span><span class=p>);</span>
      <span class=n>ret</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
      <span class=k>break</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>search_node</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>next_num</span><span class=p>)</span> <span class=o>!=</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>DEBUG</span><span class=err>$</span> <span class=n>print_node</span><span class=p>(</span><span class=n>node</span><span class=p>);</span>
      <span class=n>DEBUG</span><span class=err>$</span> <span class=n>printf</span><span class=p>(</span><span class=s>&#34;%d (infinit loop after %d step)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>next_num</span><span class=p>,</span> <span class=n>step_count</span><span class=p>);</span>
      <span class=n>clean_node</span><span class=p>(</span><span class=o>&amp;</span><span class=n>node</span><span class=p>);</span>
      <span class=n>ret</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
      <span class=k>break</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=n>origin_num</span> <span class=o>=</span> <span class=n>next_num</span><span class=p>;</span>
    <span class=n>insert_node</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>origin_num</span><span class=p>);</span>
    <span class=n>step_count</span><span class=o>++</span><span class=p>;</span>
    <span class=n>int_to_char_arr</span><span class=p>(</span><span class=n>next_num</span><span class=p>,</span> <span class=n>arr</span><span class=p>,</span> <span class=n>num_len</span><span class=p>);</span>
  <span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=mi>1</span><span class=p>);</span>
  <span class=n>free</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span>
  <span class=n>arr</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
  <span class=k>return</span> <span class=n>ret</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span> <span class=o>*</span><span class=n>argv</span><span class=p>[])</span> <span class=p>{</span>
<span class=cm>/* #define TEST_NODE */</span>
<span class=cm>/* #define TEST_PRE */</span>
<span class=cp>#ifdef TEST_NODE
</span><span class=cp></span>  <span class=k>struct</span> <span class=n>node</span> <span class=o>*</span><span class=n>node</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
  <span class=n>init_node</span><span class=p>(</span><span class=o>&amp;</span><span class=n>node</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
  <span class=n>insert_node</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
  <span class=n>insert_node</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
  <span class=n>insert_node</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span>
  <span class=n>print_node</span><span class=p>(</span><span class=n>node</span><span class=p>);</span>
  <span class=n>clean_node</span><span class=p>(</span><span class=o>&amp;</span><span class=n>node</span><span class=p>);</span>
<span class=cp>#elif defined(TEST_PRE)
</span><span class=cp></span>  <span class=n>calc_kaprekar_constant</span><span class=p>(</span><span class=s>&#34;13&#34;</span><span class=p>);</span>
  <span class=cm>/* 31-13=18 */</span>
  <span class=cm>/* 81-18=63 */</span>
  <span class=cm>/* 63-36=27 */</span>
  <span class=cm>/* 72-27=45 */</span>
  <span class=cm>/* 54-45=9 */</span>
  <span class=cm>/* 90-9=81 */</span>
  <span class=cm>/* 81-18=63 */</span> <span class=cm>/* &lt;- went to 63 again  */</span>
<span class=cp>#else
</span><span class=cp></span>  <span class=k>if</span> <span class=p>(</span><span class=n>argc</span> <span class=o>&gt;=</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>calc_kaprekar_constant</span><span class=p>(</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
  <span class=p>}</span>
<span class=cp>#endif
</span><span class=cp></span>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><h1 id=test-with-a-bash-script>Test with a Bash Script<sup><a class=h__anchor href=#test-with-a-bash-script>¶</a></sup></h1><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=k>for</span> num in <span class=k>$(</span>seq <span class=nv>$1</span> <span class=nv>$2</span><span class=k>)</span><span class=p>;</span> <span class=k>do</span>
  ./kaprekar_constant <span class=nv>$num</span> &gt;/dev/null
  <span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> <span class=o>==</span> <span class=m>2</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
    <span class=nb>echo</span> <span class=s2>&#34;some number went to infinite loop&#34;</span>
    <span class=nb>exit</span>
  <span class=k>fi</span>
<span class=k>done</span>
</code></pre></td></tr></table></div></div><p>Usage: execute <code>./kaprekar_constant_test.sh 1000 9999</code>, if successful, will output nothing.</p><h1 id=ref>Ref.<sup><a class=h__anchor href=#ref>¶</a></sup></h1><p><a class=md__link href=https://newbedev.com/define-macro-for-debug-printing-in-c target=_blank rel=noopener>debug-pringing-in-c
↗</a></p></div><div class=pager><br>▲ <a href=/zyprex.blog/2022/use-batch-scripts-monitor-register-values/>Use Batch Scripts Monitor Register Values</a><br>▼ <a href=/zyprex.blog/2022/dont-conform-to-the-norm/>Dont Conform to the Norm</a></div><footer style="text-align:right;margin:5rem .2rem .2rem"><div><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/c/>#c</a><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/math/>#math</a></section></div><div>&copy; 2020 - 2023</div><small>page 2022</small></footer></div><script defer type=application/javascript src=/js/norm.js></script></body></html>