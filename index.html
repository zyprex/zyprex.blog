<!doctype html><html><meta charset=utf-8><meta name=generator content="Hugo 0.76.5"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><link rel=icon type=image/png href=https://zyprex.github.io/zyprex.blog><link rel=stylesheet type=text/css href=https://zyprex.github.io/zyprex.blog/css/main.css><title>Zyprex's Blog</title><body><div class=fence><div style=height:2em;margin-top:1em;margin-bottom:1em;font-size:1.1em;overflow-x:scroll;overflow-y:hidden;white-space:nowrap><nav>|&emsp;<a href=/zyprex.blog/>HOME</a>&emsp;|&emsp;<a href=/zyprex.blog/tags/>TAGS</a>&emsp;|&emsp;<a href=/zyprex.blog/categories/>CATEGORIES</a>&emsp;|&emsp;<a href=/zyprex.blog/index.xml>RSS</a>&emsp;|&emsp;<a href=/zyprex.blog/search/>SEARCH</a>&emsp;|&emsp;<a href=/zyprex.blog/about/>ABOUT</a>&emsp;|</nav></div><div class=T>2024</div><section><header class=H>11-13<a class=T href=https://zyprex.github.io/zyprex.blog/2024/ebook-convert-wrapper-script/>Ebook Convert Wrapper Script</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/batch/>#batch</a><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/shell/>#shell</a></section></div></header><div class=summary>Intro¶
Calibre has a program called ebook_convert.exe. So I wrote some useful scripts for it.
1. Batch Convert¶
One shot convert all epub to azw3.
1 2 3 4 :: Set delims empty, split new line only FOR /F "delims=" %%F IN ('DIR/B/A:-D *.epub') DO ( %ebconv% "%%~nxF" "%%~nF.azw3" --output-profile tablet ) 2. Clean SDR dir¶
Kindle always create may sdr directories, also swipe them by one shot!
1 2 3 4 5 6 :: Set delims empty, split new line only FOR /F "delims=" %%F IN ('DIR/B/S/A:D *.sdr') DO ( :: echo "%%F" :: By not use /S/Q, only delete empty dir rmdir /S "%%F" ) Actually we can do more, such as clean empty directories.<a href=https://zyprex.github.io/zyprex.blog/2024/ebook-convert-wrapper-script/> (Read more ... 550 words)</a></div></section><section><header class=H>06-04<a class=T href=https://zyprex.github.io/zyprex.blog/2024/calibre-ebook-convert-keep-image-resolutions/>Calibre Ebook Convert Keep Image Resolutions</a><div class=excerpt></div><div style=margin-left:auto><section></section></div></header><div class=summary>Calibre Ebook Convert Keep Image Resolutions¶
When I convert ebook use calibre&rsquo;s ebook-convert command, I discover the output file&rsquo;s image size has been downscaled.
This can be avoid by add an argument.
ebook-convert mybook.mobi mybook.epub --output-profile tablet</div></section><section><header class=H>03-04<a class=T href=https://zyprex.github.io/zyprex.blog/2024/batch-replace-epub-css/>Batch Replace Epub CSS</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/batch/>#batch</a></section></div></header><div class=summary>Batch Replace Epub CSS¶
Step 1¶
Rename the epub extension to zip, and unpack it to a directory.
Step 2¶
Create the replace.css file, write some styles in.
Write a batch file called replace_main_css.bat.
1 2 3 4 5 6 :: Find all main.css, replace it content to replace.css @ECHO OFF DEL replace.bat FOR /R .\ %%G IN (main.css) DO ( IF EXIST %%G ECHO TYPE replace.css ^> "%%G" >> replace.bat ) Run it.
Step 2¶
Quick review the replace.bat, make sure that all files list here are need replaced. The file should look like:
1 2 3 TYPE replace > ".<a href=https://zyprex.github.io/zyprex.blog/2024/batch-replace-epub-css/> (Read more ... 126 words)</a></div></section><div class=T>2023</div><section><header class=H>09-21<a class=T href=https://zyprex.github.io/zyprex.blog/2023/open-old-project-on-android-studio/>Open Old Project on Android Studio</a><div class=excerpt>gradle connection timed out again</div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/categories/android/>@android</a></section></div></header><div class=summary>Open Old Project on Android Studio¶
The problem:
gradle ERROR: Connection timed out
Didn&rsquo;t know why android studio delete old version gradle.
Resolution:
curl -o ~/.gradle/wrapper/dists/gradle-7.4-bin/.../gradle-7.4-bin.zip https://mirrors.aliyun.com/macports/distfiles/gradle/gradle-7.4-bin.zip
Replace the ... to the true folder name.
Keep any build.gradle files untouched.
Ignore kotlin not configured.
The android studio auto change my build.gradle or if I do click uncarefully. This will cause many unexpected error, then I have to use git diff restore the build.gradle.
BTW: android studio always had some delay to load external modified files.</div></section><section><header class=H>08-29<a class=T href=https://zyprex.github.io/zyprex.blog/2023/how-the-vim-save-my-life/>How the Vim Save My Life</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/vim/>#vim</a><a class=taxo href=https://zyprex.github.io/zyprex.blog/categories/life/>@life</a></section></div></header><div class=summary>Prologue¶
I use vim editor about 2 years before. There are so many guides in the web. I think it&rsquo;s not my duties to proclaimed the powerful of vim editor. But the vim editor really save my life from a mistake of file deletion.
The Bitter After Disaster¶
When I delete files in an accident, I feel the whole world swirled around me, and angry, agony filled my heart. It&rsquo;s suffered a lot. I try the Windows File Recovery, but it&rsquo;s recover other files and just not the files I deleted a moment ago.
If you curious my steps, I use winfr E: C: /regular /n *.<a href=https://zyprex.github.io/zyprex.blog/2023/how-the-vim-save-my-life/> (Read more ... 204 words)</a></div></section><section><header class=H>08-25<a class=T href=https://zyprex.github.io/zyprex.blog/2023/use-ffmpeg-convert-videos/>Use ffmpeg Convert Videos</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/categories/ffmpeg/>@ffmpeg</a></section></div></header><div class=summary>Convert m3u8 to mp4 file¶
Use index.m3u8 convert all TS files to a mp4 file. (note: it can use web link as input)
1 ffmpeg -i index.m3u8 -c copy -bsf:a aac_adtstoasc out.mp4 Split mp4 file to m3u8 list¶
Split a.mp4 to list of 240 seconds TS files in out folder.
1 2 ffmpeg -i a.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb a.ts ffmpeg -i a.ts -c copy -map 0 -f segment -segment_list "out/index.m3u8" -segment_time 240 "out/%%2d.ts" Merge Videos¶
A use case to merge videos by use a text file.
1 2 3 4 5 6 7 #file_name: a.<a href=https://zyprex.github.io/zyprex.blog/2023/use-ffmpeg-convert-videos/> (Read more ... 277 words)</a></div></section><section><header class=H>03-31<a class=T href=https://zyprex.github.io/zyprex.blog/2023/create-wlan-hotspot-on-linux/>Create WLAN Hotspot on Linux</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/network/>#network</a><a class=taxo href=https://zyprex.github.io/zyprex.blog/categories/linux/>@linux</a></section></div></header><div class=summary>When I try to start a Hotspot, I finally found that my computer doesn&rsquo;t support AP mode.
Here is a link for where I stopped.
software access point
↗</div></section><section><header class=H>03-25<a class=T href=https://zyprex.github.io/zyprex.blog/2023/useful-chrome-flags/>Useful Chrome Flags</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/trick/>#trick</a></section></div></header><div class=summary>Useful Chrome Flags¶
To Access the flags, type chrome://flags in browser address bar (omnibox), then search those word and enable them.
forced color reader mode smooth scrolling GPU rasterization zero-copy rasterization turn off caching of streaming media to disk back-forward caching QUIC protocol parallel downloading download range support</div></section><div class=T>2022</div><section><header class=H>07-04<a class=T href=https://zyprex.github.io/zyprex.blog/2022/use-batch-scripts-monitor-register-values/>Use Batch Scripts Monitor Register Values</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/batch/>#batch</a><a class=taxo href=https://zyprex.github.io/zyprex.blog/categories/windows/>@windows</a></section></div></header><div class=summary>Use Batch Scripts Monitor Register Values¶
Recently I noticed that some software, even after they&rsquo;re uninstalled, didn&rsquo;t clear their register values. It&rsquo;s drive me mad. So I decide to monitor reigister values to find who in charge of abused register write action.
At first glance, it could use RegOpenKeyEx() and RegCloseKey() to read latest register values, but use a c program to achieve all of this, may seems too overhead, and I don&rsquo;t want for another software do this for me. All in all, I finally figure out the pure and simple batch script is just perfect for me.
How I did it?<a href=https://zyprex.github.io/zyprex.blog/2022/use-batch-scripts-monitor-register-values/> (Read more ... 327 words)</a></div></section><section><header class=H>05-16<a class=T href=https://zyprex.github.io/zyprex.blog/2022/prove-kaprekar-constant-with-c-program/>Prove Kaprekar Constant With C Program</a><div class=excerpt></div><div style=margin-left:auto><section><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/c/>#c</a><a class=taxo href=https://zyprex.github.io/zyprex.blog/tags/math/>#math</a></section></div></header><div class=summary>Prove Kaprekar Constant with C Program¶
Know the kaprekar constant¶
What is a kaprekar constant ?
Given by a 4 digit integer number, for example 1000. Form the largest and the smallest number from it&rsquo;s digits. Substract these two numbers and get the new integer. Continue with the process, until stop by number 6174. The 6174 is kaprekar constant. Because use 6174 to calculate will get 6174.
A manual calculate example:
1 2 3 4 5 6 1000 - 0001 = 0999 9990 - 0999 = 8991 9981 - 1899 = 8082 8820 - 0288 = 8532 8532 - 2358 = 6174 7641 - 1467 = 6174 All 4 digit integer numbers have the same pitfall loop end.<a href=https://zyprex.github.io/zyprex.blog/2022/prove-kaprekar-constant-with-c-program/> (Read more ... 1474 words)</a></div></section><section class=pager><a style=float:right href=/zyprex.blog/page/2/>Next ▶</a></section><footer style="text-align:right;margin:5rem .2rem .2rem"><div><section></section></div><div>&copy; 2020 - 2024</div>1/4
<small>home page</small></footer></div></body></html>